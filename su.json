{
  "tree": [
    {
      "id": "injecao",
      "label": "Injeção",
      "icon": "bi-droplet",
      "children": [
        {
          "id": "injecao_bancada_a",
          "label": "Bancada A",
          "icon": "bi-cpu",
          "widgets": [
            {
              "type": "slider",
              "title": "Tempo de Injeção",
              "help": "Ajusta o tempo de injeção da bancada A",
              "command": "inj_time_a",
              "min": 0,
              "max": 100,
              "default": 50,
              "unit": "ms"
            },
            {
              "type": "spinbox",
              "title": "Correção de Combustível",
              "help": "Correção percentual de combustível",
              "command": "fuel_corr_a",
              "min": -50,
              "max": 50,
              "default": 0,
              "step": 1,
              "unit": "%"
            },
            {
              "type": "toggle",
              "title": "Ativar Bancada A",
              "help": "Liga ou desliga a bancada A",
              "command": "bank_a_enable",
              "default": true
            }
          ]
        },
        {
          "id": "injecao_bancada_b",
          "label": "Bancada B",
          "icon": "bi-cpu",
          "widgets": [
            {
              "type": "slider",
              "title": "Tempo de Injeção",
              "help": "Ajusta o tempo de injeção da bancada B",
              "command": "inj_time_b",
              "min": 0,
              "max": 100,
              "default": 50,
              "unit": "ms"
            },
            {
              "type": "spinbox",
              "title": "Correção de Combustível",
              "help": "Correção percentual de combustível",
              "command": "fuel_corr_b",
              "min": -50,
              "max": 50,
              "default": 0,
              "step": 1,
              "unit": "%"
            },
            {
              "type": "toggle",
              "title": "Ativar Bancada B",
              "help": "Liga ou desliga a bancada B",
              "command": "bank_b_enable",
              "default": true
            }
          ]
        }
      ]
    },
    {
      "id": "ignicao",
      "label": "Ignição",
      "icon": "bi-lightning",
      "children": [
        {
          "id": "ignicao_avanco",
          "label": "Avanço de Ignição",
          "icon": "bi-speedometer",
          "widgets": [
            {
              "type": "slider",
              "title": "Avanço Base",
              "help": "Avanço de ignição em graus",
              "command": "ign_advance",
              "min": 0,
              "max": 40,
              "default": 15,
              "unit": "°"
            },
            {
              "type": "combobox",
              "title": "Modo de Ignição",
              "help": "Selecione o modo de operação da ignição",
              "command": "ign_mode",
              "options": [
                {"label": "Sequencial", "value": "0"},
                {"label": "Semi-Sequencial", "value": "1"},
                {"label": "Distributivo", "value": "2"}
              ],
              "default": "0"
            }
          ]
        },
        {
          "id": "ignicao_bobinas",
          "label": "Bobinas",
          "icon": "bi-plug",
          "widgets": [
            {
              "type": "slider",
              "title": "Tempo de Carga",
              "help": "Tempo de carga das bobinas",
              "command": "coil_dwell",
              "min": 1,
              "max": 10,
              "default": 3,
              "unit": "ms"
            }
          ]
        }
      ]
    },
    {
      "id": "sensores",
      "label": "Sensores",
      "icon": "bi-wifi",
      "children": [
        {
          "id": "sensores_temperatura",
          "label": "Temperatura",
          "icon": "bi-thermometer",
          "widgets": [
            {
              "type": "combobox",
              "title": "Tipo de Sensor",
              "help": "Tipo de sensor de temperatura",
              "command": "temp_sensor_type",
              "options": [
                {"label": "NTC 10K", "value": "0"},
                {"label": "NTC 5K", "value": "1"},
                {"label": "PT100", "value": "2"}
              ],
              "default": "0"
            },
            {
              "type": "spinbox",
              "title": "Calibração",
              "help": "Offset de calibração",
              "command": "temp_calibration",
              "min": -20,
              "max": 20,
              "default": 0,
              "step": 1,
              "unit": "°C"
            }
          ]
        },
        {
          "id": "sensores_pressao",
          "label": "Pressão",
          "icon": "bi-speedometer2",
          "widgets": [
            {
              "type": "slider",
              "title": "Calibração MAP",
              "help": "Calibração do sensor MAP",
              "command": "map_calibration",
              "min": 0,
              "max": 300,
              "default": 100,
              "unit": "kPa"
            }
          ]
        }
      ]
    },
    {
      "id": "limites",
      "label": "Limites e Proteções",
      "icon": "bi-shield",
      "children": [
        {
          "id": "limites_rpm",
          "label": "Limitador de RPM",
          "icon": "bi-speedometer",
          "widgets": [
            {
              "type": "spinbox",
              "title": "RPM Máximo",
              "help": "Limite máximo de rotações por minuto",
              "command": "rpm_limit",
              "min": 1000,
              "max": 12000,
              "default": 7000,
              "step": 100,
              "unit": "RPM"
            },
            {
              "type": "toggle",
              "title": "Ativar Limitador",
              "help": "Liga ou desliga o limitador de RPM",
              "command": "rpm_limiter_enable",
              "default": true
            }
          ]
        }
      ]
    }
  ]
}