{
  "tree": [
    {
      "id": "injecao",
      "label": "Injeção",
      "icon": "bi-droplet",
      "children": [
        {
          "id": "injecao_bancada_a",
          "label": "Bancada A",
          "icon": "bi-cpu",
          "widgets": [
            {
              "type": "slider",
              "title": "Tempo de Injeção",
              "help": "Ajusta o tempo de injeção da bancada A",
              "command": "tipologia/b_a/tempo_100",
              "min": 0,
              "max": 22,
              "default": 14,
              "unit": "ms"
            },
            {
              "type": "spinbox",
              "title": "Correção de Combustível",
              "help": "Correção percentual de combustível",
              "command": "fuel_corr_a",
              "min": -50,
              "max": 50,
              "default": 0,
              "step": 1,
              "unit": "%"
            },
            {
              "type": "toggle",
              "title": "Ativar Bancada A",
              "help": "Liga ou desliga a bancada A",
              "command": "bank_a_enable",
              "default": true
            }
            ,
            {
              "type": "linked_radio",
              "title": "Modo Mono (Vinculado)",
              "help": "Opção 'Mono' do grupo vinculado inj_mode_group",
              "command": "injection_mode",
              "group": "inj_mode_group",
              "value": "mono",
              "default": "mono"
            }
          ]
        },
        {
          "id": "injecao_bancada_b",
          "label": "Bancada B",
          "icon": "bi-cpu",
          "widgets": [
            {
              "type": "slider",
              "title": "Tempo de Injeção",
              "help": "Ajusta o tempo de injeção da bancada B",
              "command": "tipologia/b_b/tempo_100",
              "min": 0,
              "max": 22,
              "default": 14,
              "unit": "ms"
            },
            {
              "type": "spinbox",
              "title": "Correção de Combustível",
              "help": "Correção percentual de combustível",
              "command": "fuel_corr_b",
              "min": -50,
              "max": 50,
              "default": 0,
              "step": 1,
              "unit": "%"
            },
            {
              "type": "toggle",
              "title": "Ativar Bancada B",
              "help": "Liga ou desliga a bancada B",
              "command": "bank_b_enable",
              "default": true
            }
          ]
        }
      ]
    },
    {
      "id": "ignicao",
      "label": "Ignição",
      "icon": "bi-lightning",
      "children": [
        {
          "id": "ignicao_avanco",
          "label": "Avanço de Ignição",
          "icon": "bi-speedometer",
          "widgets": [
            {
              "type": "slider",
              "title": "Avanço Base",
              "help": "Avanço de ignição em graus",
              "command": "ign_advance",
              "min": 0,
              "max": 40,
              "default": 15,
              "unit": "°"
            }
            ,
            {
              "type": "linked_radio",
              "title": "Modo Direct (Vinculado)",
              "help": "Opção 'Direct' do grupo vinculado inj_mode_group",
              "command": "injection_mode",
              "group": "inj_mode_group",
              "value": "direct",
              "default": "mono"
            }
          ]
        },
        {
          "id": "ignicao_bobinas",
          "label": "Bobinas",
          "icon": "bi-plug",
          "widgets": [
            {
              "type": "slider",
              "title": "Tempo de Carga",
              "help": "Tempo de carga das bobinas",
              "command": "ign/dl_base",
              "min": 1,
              "max": 14,
              "default": 4,
              "unit": "ms"
            },
            {
              "type": "combobox",
              "title": "Modo de Ignição",
              "help": "Selecione o modo de operação da ignição",
              "command": "tipologia/padrao/ingn",
              "options": [
                {"label": "Sequencial", "value": "2"},
                {"label": "Semi-Sequencial", "value": "1"},
                {"label": "Distributivo", "value": "0"}
              ],
              "default": "0"
            },{
              "type": "chart2d",
              "title": "Correção de Dwell por Voltagem",
              "help": "Ajusta o tempo de carga conforme a tensão de alimentação.",
              "command": "ignc/dl_perVol",     
              "commandX": "None",              
              "mode": "y",
              "xFixed": [6, 8, 10, 12, 14, 16, 18],
              "xMin": 6,
              "xMax": 18,
              "yMin": -50,
              "xLabel": "Tensão (V)",
              "yLabel": "Correção de Dwell (%)",
              "yMax": 154,
              "refLine": 100,
              "default": "150,120,100,100,95,90,85"
            }

          ]
        }
        
      ]
    },
    {
      "id": "sensores",
      "label": "Sensores",
      "icon": "bi-wifi",
      "children": [
        {
          "id": "sensores_temperatura",
          "label": "Temperatura",
          "icon": "bi-thermometer",
          "widgets": [
            {
              "type": "combobox",
              "title": "Tipo de Sensor",
              "help": "Tipo de sensor de temperatura",
              "command": "temp_sensor_type",
              "options": [
                {"label": "NTC 10K", "value": "0"},
                {"label": "NTC 5K", "value": "1"},
                {"label": "PT100", "value": "2"}
              ],
              "default": "0"
            },
            {
              "type": "spinbox",
              "title": "Calibração",
              "help": "Offset de calibração",
              "command": "temp_calibration",
              "min": -20,
              "max": 20,
              "default": 0,
              "step": 1,
              "unit": "°C"
            }
          ]
        },
        {
          "id": "sensores_pressao",
          "label": "Pressão",
          "icon": "bi-speedometer2",
          "widgets": [
            {
              "type": "slider",
              "title": "Calibração MAP",
              "help": "Calibração do sensor MAP",
              "command": "map_calibration",
              "min": 0,
              "max": 300,
              "default": 100,
              "unit": "kPa"
            }
          ]
        }
      ]
    },
    {
      "id": "limites",
      "label": "Limites e Proteções",
      "icon": "bi-shield",
      "children": [
        {
          "id": "limites_rpm",
          "label": "Limitador de RPM",
          "icon": "bi-speedometer",
          "widgets": [
            {
              "type": "spinbox",
              "title": "RPM Máximo",
              "help": "Limite máximo de rotações por minuto",
              "command": "rpm_limit",
              "min": 1000,
              "max": 12000,
              "default": 7000,
              "step": 100,
              "unit": "RPM"
            },
            {
              "type": "toggle",
              "title": "Ativar Limitador",
              "help": "Liga ou desliga o limitador de RPM",
              "command": "rpm_limiter_enable",
              "default": true
            },
            {
              "type": "action_buttons",
              "title": "Controle de Teste",
              "description": "Botões de teste com press/release",
              "buttons": [
                {
                  "label": "Teste 1 (Press/Release)",
                  "icon": "bi-power",
                  "color": "red",
                  "mode": "press_release",
                  "commandPress": "test_btn_1_press",
                  "commandRelease": "test_btn_1_release"
                },
                {
                  "label": "Teste 2 (Toggle)",
                  "icon": "bi-play-fill",
                  "color": "green",
                  "mode": "toggle",
                  "commandPress": "test_btn_2_on",
                  "commandRelease": "test_btn_2_off"
                },
                {
                  "label": "Teste 3 (Toggle)",
                  "icon": "bi-stop-fill",
                  "color": "orange",
                  "mode": "toggle",
                  "commandPress": "test_btn_3_on",
                  "commandRelease": "test_btn_3_off"
                }
              ]
            },
            {
              "type": "color_toggle",
              "title": "Modo de Energia",
              "description": "Clique para alternar o modo de energia",
              "command": "energy_mode",
              "icon": "bi-lightning-charge",
              "label": "Energia",
              "colors": ["red", "blue", "green"],
              "valueMap": {
                "red": "eco",
                "blue": "normal",
                "green": "sport"
              },
              "toggleOnRelease": false
            },
            {
              "type": "checkbox_group",
              "title": "Configurações de Diagnóstico",
              "description": "Marque as opções desejadas",
              "checkboxes": [
                {
                  "label": "Ativar Log de Dados",
                  "command": "diag_enable_logging",
                  "icon": "bi-file-earmark-text",
                  "help": "Registra todos os parâmetros do sistema",
                  "valueOn": 1,
                  "valueOff": 0
                },
                {
                  "label": "Monitorar Sensores",
                  "command": "diag_monitor_sensors",
                  "icon": "bi-graph-up",
                  "help": "Monitora leitura em tempo real",
                  "valueOn": 1,
                  "valueOff": 0
                },
                {
                  "label": "Detectar Falhas",
                  "command": "diag_fault_detection",
                  "icon": "bi-exclamation-circle",
                  "help": "Ativa detecção automática de falhas",
                  "valueOn": 1,
                  "valueOff": 0
                },
                {
                  "label": "Modo Debug",
                  "command": "diag_debug_mode",
                  "icon": "bi-bug",
                  "help": "Modo de depuração avançado",
                  "valueOn": 1,
                  "valueOff": 0
                }
              ]
            }
            ,
            {
              "type": "linked_radio",
              "title": "Modo Multi (Vinculado)",
              "description": "Opção 'Multi' do grupo vinculado inj_mode_group",
              "command": "injection_mode",
              "group": "inj_mode_group",
              "value": "multi",
              "default": "mono"
            }
          ]
        }
      ]
    }
  ]
}